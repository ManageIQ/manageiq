<content-header short="true">
    <div class="content-header__body">
        <span class="content-header__title">Content Pages</span>
    </div>
    <div class="content-header__aside">
        <a ui-sref="admin.cms.create" class="btn-rounded">Add A Content Page</a>
    </div>
</content-header>
<div>
    <table st-table="vm.pages" class="content-pages-table">
        <thead>
        <tr>
            <th class="content-pages-table__heading content-pages-table__heading--padding"></th>
            <th class="content-pages-table__heading content-pages-table__heading--sortable content-pages-table__heading--title" st-sort="title">Title</th>
            <th class="content-pages-table__heading content-pages-table__heading--sortable content-pages-table__heading--created" st-sort="created">Created</th>
            <th class="content-pages-table__heading content-pages-table__heading--sortable content-pages-table__heading--updated" st-sort="updated">Updated</th>
            <th class="content-pages-table__heading content-pages-table__heading--actions">Action</th>
        </tr>
        </thead>
        <tbody>
        <tr class="content-pages-table__row" ng-repeat="row in vm.pages">
            <td class="content-pages-table__cell content-pages-table__cell--padding"></td>
            <td class="content-pages-table__cell content-pages-table__cell--title">{{ ::row.title }}</td>
            <td class="content-pages-table__cell content-pages-table__cell--created">{{ ::row.created_at | date:'short' }}</td>
            <td class="content-pages-table__cell content-pages-table__cell--updated">{{ ::row.updated_at | date:'short' }}</td>
            <td class="content-pages-table__cell content-pages-table__cell--actions">

                <a ui-sref="admin.cms.edit({id: row.id})" class="content-pages-table__action content-pages-table__action--edit">
                    <img src="/images/ic_edit.png" alt="Edit"/>
                </a>

                <a href="#" class="content-pages-table__action content-pages-table__action--delete"
                   confirmation
                   confirmation-position="left-center"
                   confirmation-message="Are you sure you want to remove this content?"
                   confirmation-ok-style="danger"
                   confirmation-ok-text="Yes, Delete It"
                   confirmation-on-ok="vm.deleteContentPage(row)"
                   confirmation-show-cancel="false">
                    <img src="/images/ic_deletequestion.png" alt="Delete"/>
                </a>

            </td>

        </tr>
        </tbody>
    </table>
</div>
