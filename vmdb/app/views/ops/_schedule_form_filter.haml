#form_filter_div
  %fieldset
    %p.legend {{buildLegend()}}
    %table.style1
      %tr(ng-switch on="determineActionType()")
        %td.key Filter
        %td
          = select_tag('filter_typ', options_for_select(@vm_options_for_select), "ng-switch-when" => "vm", "ng-model" => "$parent.filterType", "ng-change" => "filterTypeChanged()")
          = select_tag('filter_typ', options_for_select(@template_options_for_select), "ng-switch-when" => "miq_template", "ng-model" => "$parent.filterType", "ng-change" => "filterTypeChanged()")
          = select_tag('filter_typ', options_for_select(@host_options_for_select), "ng-switch-when" => "host", "ng-model" => "$parent.filterType", "ng-change" => "filterTypeChanged()")
          = select_tag('filter_typ', options_for_select(@cluster_options_for_select), "ng-switch-when" => "emscluster", "ng-model" => "$parent.filterType", "ng-change" => "filterTypeChanged()")
          = select_tag('filter_typ', options_for_select(@storage_options_for_select), "ng-switch-when" => "storage", "ng-model" => "$parent.filterType", "ng-change" => "filterTypeChanged()")
          = select_tag('log_protocol', options_for_select(@database_backup_options_for_select), "ng-switch-when" => "db_backup", "ng-model" => "$parent.logProtocol")

          %select#filter_value(ng-change="filterValueChanged()" ng-model="filterValue" ng-options="filteredItem.value as filteredItem.text for filteredItem in filterList" ng-hide="filterValuesEmpty")
            %option(value="") &lt;Choose&gt;
          %input(type="hidden" name="filter_value" value="{{filterValue}}")

      %tr(ng-show="determineActionType() == 'db_backup'")
        %td.key URI
        %td.wide
          = "#{@uri_prefix}://"
          = text_field_tag("uri", @uri, :maxlength => 100)
        = javascript_tag("$('uri').focus()")

      %tr(ng-show="sambaBackup()")
        %td.key
          User ID
        %td
          = text_field_tag("log_userid", @log_userid, :maxlength => 50)

      %tr(ng-show="sambaBackup()")
        %td.key
          Password
        %td
          = password_field_tag("log_password", @log_password, :maxlength => 50)

      %tr(ng-show="sambaBackup()")
        %td.key
          Verify Password
        %td
          = password_field_tag("log_verify", @log_verify, :maxlength => 50)

      %tr(ng-show="sambaBackup()")
        %td
        %td(align="right")
          - validate_url ||= ["new", "create"].include?(controller.action_name) ? "create" : "update"
          = render(:partial => "/layouts/form_buttons_verify", :locals => {:validate_url => validate_url, :valtype => "log"})
