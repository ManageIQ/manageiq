- content_for :search do
  = render :partial => "layouts/x_adv_searchbox", :locals => {:nameonly => (x_active_tree == :vandt_tree)}
  = render :partial => 'layouts/quick_search'

-# These are the initial divs that will go inside center_cell_div
- if @record
  -# Showing a specific VM or Template record
  #main_div
    - if @showtype == "performance"
      = raise 'performance partial called through "show"'
      = render(:partial => "layouts/performance")
      :javascript
        ManageIQ.afterOnload = "miqAsyncAjax('#{url_for(:action => @ajax_action, :id => @record)}');"
    - elsif @showtype == "timeline"
      = render(:partial => "layouts/tl_show")
      :javascript
        ManageIQ.afterOnload = "miqAsyncAjax('#{url_for(:action => @ajax_action, :id => @record)}');"
    - else
      = render(:partial => 'vm_common/main', :locals => {:controller => "vm"})
- elsif @upload_sysprep_file
  #main_div
    = render(:partial => 'miq_request/prov_edit')
    - @upload_sysprep_file = false
    :javascript
      ManageIQ.afterOnload = "miqPrepRightCellForm('#{x_active_tree}');"
- else
  -# Showing a list of VMs
  #main_div
    = render(:partial => 'layouts/x_gtl')
