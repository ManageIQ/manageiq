- flash_div_id ||= 'flash_msg_div'

%div{:id => flash_div_id, :style => ("display: none" unless @flash_array)}
  - if @flash_array
    %div{:id => "flash_text_div"}
      - @flash_array.each do |fl|
        - fl[:message] = URI.decode(fl[:message])
        - case fl[:level]
        - when :error
          .alert.alert-danger.alert-dismissable
            %button.close{:data => {:dismiss => "alert"}}
              %span.pficon.pficon-close
            %span.pficon.pficon-error-circle-o
            %strong= h(fl[:message])
        - when :warning
          .alert.alert-warning.alert-dismissable
            %button.close{:data => {:dismiss => "alert"}}
              %span.pficon.pficon-close
            %span.pficon-warning-triangle-o
            %strong= h(fl[:message])
        - when :info
          = render :partial => "layouts/info_msg",
                   :locals => {:message => h(fl[:message])}
        - else
          .alert.alert-success.alert-dismissable
            %button.close{:data => {:dismiss => "alert"}}
              %span.pficon.pficon-close
            %span.pficon.pficon-ok
            %strong= h(fl[:message])
